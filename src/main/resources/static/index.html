<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <script type = "text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
</head>
<body>
<div class="container">
<h2>Notice-Board</h2>
    <br>
<!--<a href="/api/board">글작성</a>-->
<!--    <div id="header-title-login-user">-->
<!--        <span th:text="${username}"></span> 님 환영합니다.-->
<!--    </div>-->
    <center>
        <button class="btn btn-primary" onclick="location.href='/api/board'">글 작성</button>
    </center>
<br>
    <a id="login-text" href="/user/login">
        로그인
    </a>
    <a id="logout-text" href="/user/logout" style="display:none;">
        로그아웃
    </a>

<table class="table table-striped text-center">
    <thead class ="thead-dark">
    <tr>
        <th scope="col">#</th>
        <th scope="col">제목</th>
        <th scope="col">사용자</th>
        <th scope="col">내용</th>
    </tr>
    </thead>
    <tbody>
        <div th:each="board : ${board}" class="table table-striped text-center">
            <tr>
                <td></td>
                <th scope="col"><a th:href="@{/api/board/}+${board.id}" th:text="${board.title}"> </a></th>
                <th scope="col" th:text="${board.user.username}"></th>
                <th scope="col" th:text="${board.text}"></th>
            </tr>
        </div>
    </tbody>
</table>
</div>
<script>
    $(document).ready(function(){
        var user = '[[${user}]]'
        console.log(user)
        if(user != ''){
            $(`#logout-text`).show();
            $(`#login-text`).hide();
        }
    });

</script>

</body>
</html>